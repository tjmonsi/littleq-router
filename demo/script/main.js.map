{"version":3,"sources":["webpack:///../node_modules/@littleq/state-manager/index.js","webpack:///../node_modules/redux/es/index.js","webpack:///./middlewares/middleware-all.js","webpack:///../node_modules/@polymer/polymer/lib/utils/debounce.js","webpack:///./node_modules/process/browser.js","webpack:///../node_modules/redux/es/createStore.js","webpack:///../node_modules/lodash-es/isPlainObject.js","webpack:///../node_modules/lodash-es/_Symbol.js","webpack:///../node_modules/redux/es/utils/warning.js","webpack:///../node_modules/redux/es/compose.js","webpack:///../lib/reducer.js","webpack:///../node_modules/path-to-regexp/index.js","webpack:///../node_modules/@littleq/location-mixin/index.js","webpack:///../node_modules/@littleq/query-params-mixin/index.js","webpack:///./index.js","webpack:///../node_modules/@littleq/lazy-loader/index.js","webpack:///../node_modules/@littleq/lazy-loader/lazy-load.js","webpack:///../node_modules/@polymer/polymer/lib/utils/import-href.js","webpack:///../node_modules/@littleq/lazy-loader/lazy-loader.js","webpack:///../index.js","webpack:///../littleq-router.js","webpack:///../node_modules/lodash-es/_baseGetTag.js","webpack:///../node_modules/lodash-es/_root.js","webpack:///../node_modules/lodash-es/_freeGlobal.js","webpack:///../node_modules/lodash-es/_getRawTag.js","webpack:///../node_modules/lodash-es/_objectToString.js","webpack:///../node_modules/lodash-es/_getPrototype.js","webpack:///../node_modules/lodash-es/_overArg.js","webpack:///../node_modules/lodash-es/isObjectLike.js","webpack:///../node_modules/symbol-observable/index.js","webpack:///../node_modules/symbol-observable/lib/index.js","webpack:///(webpack)/buildin/module.js","webpack:///../node_modules/symbol-observable/lib/ponyfill.js","webpack:///../node_modules/redux/es/combineReducers.js","webpack:///../node_modules/redux/es/bindActionCreators.js","webpack:///../node_modules/redux/es/applyMiddleware.js","webpack:///../node_modules/@littleq/state-manager/mixins/polymer-redux.js","webpack:///../lib/get-animation-event.js","webpack:///../node_modules/@littleq/location-mixin/lib/reducer.js","webpack:///../node_modules/@littleq/location-mixin/lib/resolve-url.js","webpack:///../node_modules/@littleq/query-params-mixin/lib/reducer.js","webpack:///../littleq-route.js","webpack:///../lib/get-routes.js"],"names":["reducers","initial","store","state","action","ReduxMixin","isCrushed","process","env","NODE_ENV","name","createStore","combineReducers","bindActionCreators","applyMiddleware","compose","MiddlewareAll","define","is","AsyncModule","Debouncer","_asyncModule","_callback","_timer","asyncModule","callback","run","isActive","cancel","debouncer","setConfig","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","setTimeout","e","clearTimeout","runTimeout","fun","call","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","length","concat","drainQueue","timeout","len","nextTick","args","Array","arguments","i","push","Item","array","prototype","apply","title","browser","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","ActionTypes","INIT","reducer","preloadedState","enhancer","_ref2","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","unsubscribe","index","indexOf","splice","dispatch","type","replaceReducer","nextReducer","observable","_ref","outerSubscribe","observer","TypeError","observeState","next","objectTag","funcProto","Function","objectProto","Object","funcToString","toString","hasOwnProperty","objectCtorString","isPlainObject","value","proto","Ctor","constructor","Symbol","warning","message","console","error","_len","funcs","_key","arg","reduce","a","b","ROUTER_ACTION","PARAMS","ROUTE","router","assign","params","route","pathToRegexp","parse","compile","tokensToFunction","tokensToRegExp","DEFAULT_DELIMITER","DEFAULT_DELIMITERS","PATH_REGEXP","RegExp","join","str","options","tokens","key","path","defaultDelimiter","delimiter","delimiters","pathEscaped","res","exec","m","escaped","offset","prev","capture","group","modifier","k","partial","repeat","optional","pattern","prefix","escapeGroup","escapeString","substr","matches","data","encode","encodeURIComponent","token","segment","isArray","j","test","String","replace","flags","sensitive","regexpToRegexp","keys","groups","source","match","arrayToRegexp","parts","stringToRegexp","strict","end","endsWith","map","isEndDelimited","superClass","statePath","query","urlSpaceRegex","hash","dwellTime","Number","_urlSpaceRegExp","computed","_lastChangedAt","_initialized","Boolean","_boundHashChanged","_hashChanged","bind","_boundUrlChanged","_urlChanged","_boundGlobalOnClick","_globalOnClick","window","addEventListener","document","body","performance","now","removeEventListener","HASH","decodeURIComponent","location","substring","_dontUpdateUrl","PATH","pathname","QUERY","search","_updateUrl","partiallyEncodedPath","encodeURI","partiallyEncodedQuery","partiallyEncodedHash","newUrl","_getUrl","fullNewUrl","protocol","host","href","shouldReplace","history","replaceState","pushState","dispatchEvent","CustomEvent","event","defaultPrevented","_getSameOriginLinkHref","preventDefault","button","metaKey","ctrlKey","eventPath","composedPath","anchor","element","tagName","target","ga","top","url","baseURI","origin","urlOrigin","normalizedHref","fullNormalizedHref","paramsObject","_dontReact","paramsString","UPDATE","_decodeParams","_encodeParams","encodedParams","paramString","paramList","split","param","LazyLoad","getAttribute","trim","importHref","Promise","reject","importHtml","importJs","promise","resolve","script","createElement","src","cleanup","loadListener","errorListener","parentNode","head","appendChild","get","warn","whenImportsReady","cb","HTMLImports","whenReady","onload","onerror","optAsync","link","querySelector","rel","setAttribute","__dynamicImportLoaded","removeChild","Event","LazyLoader","el","toLowerCase","import","LittleqRouter","defaultRedirect","currentRoute","_setKeyframeStyles","_getLazyLoader","style","id","innerHTML","lazy","_lazyLoader","_debouncer","debounce","after","re","oldPage","transition","fn","_timeOut","contains","_checkMiddlewares","_removePageAfterTransition","animation","classList","remove","_removePageListenerFallback","add","parent","middlewares","children","child","_addMiddleware","_lazyLoadMiddleware","_getMiddleware","_getMiddlewares","middleware","then","catch","page","redirect","_loadPage","_loadRedirect","_loadDefaultRedirect","all","_processMiddlewares","_lazyLoadPage","_showPage","nullTag","undefinedTag","symToStringTag","toStringTag","baseGetTag","freeSelf","self","root","freeGlobal","global","nativeObjectToString","getRawTag","isOwn","tag","unmasked","result","objectToString","getPrototype","getPrototypeOf","overArg","func","transform","isObjectLike","require","defineProperty","_ponyfill","_ponyfill2","_interopRequireDefault","obj","__esModule","webpackPolyfill","deprecate","paths","enumerable","l","symbolObservablePonyfill","_Symbol","getUndefinedStateErrorMessage","actionType","actionName","getUnexpectedStateShapeWarningMessage","inputState","unexpectedKeyCache","reducerKeys","argumentName","unexpectedKeys","filter","forEach","assertReducerShape","initialState","Math","random","finalReducers","finalReducerKeys","shapeAssertionError","combination","warningMessage","hasChanged","nextState","_i","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","actionCreators","boundActionCreators","_extends","_dispatch","chain","middlewareAPI","PolymerRedux","every","subscribers","Map","properties","bindings","property","readOnly","notify","update","propertiesChanged","changed","_setPendingPropertyOrPath","_invalidateProperties","detail","set","unbind","collect","what","which","actions","configurable","_reduxActions","originalAction","prop","animations","t","LOCATION_ACTION","workingURL","urlDoc","urlBase","base","u","implementation","createHTMLDocument","QUERYPARAMS_ACTION","LittleqRoute","_removePage","_processPage","_routeMatches","_checkIfRouteMatches","getRoutes"],"mappings":"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","file":"main.js","sourcesContent":["import { createStore } from 'redux';\nimport PolymerRedux from './mixins/polymer-redux';\n\nconst reducers = {};\nconst initial = {};\nconst store = createStore((state = initial, action) => state);\nconst ReduxMixin = PolymerRedux(store);\n\nexport { reducers, store, ReduxMixin };\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/state-manager/index.js","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/index.js","import { Element } from '@polymer/polymer/polymer-element';\nimport { customElements } from 'global/window';\n\nclass MiddlewareAll extends Element {\n  static get is () { return 'middleware-all'; }\n\n  middleware () {\n    return true;\n  }\n}\ncustomElements.define(MiddlewareAll.is, MiddlewareAll);\n\n\n\n// WEBPACK FOOTER //\n// ./middlewares/middleware-all.js","import './boot.js';\nimport './mixin.js';\nimport './async.js';\n\n/** @typedef {{run: function(function(), number=):number, cancel: function(number)}} */\nlet AsyncModule; // eslint-disable-line no-unused-vars\n\n/**\n * @summary Collapse multiple callbacks into one invocation after a timer.\n * @memberof Polymer\n */\nclass Debouncer {\n  constructor() {\n    this._asyncModule = null;\n    this._callback = null;\n    this._timer = null;\n  }\n  /**\n   * Sets the scheduler; that is, a module with the Async interface,\n   * a callback and optional arguments to be passed to the run function\n   * from the async module.\n   *\n   * @param {!AsyncModule} asyncModule Object with Async interface.\n   * @param {function()} callback Callback to run.\n   */\n  setConfig(asyncModule, callback) {\n    this._asyncModule = asyncModule;\n    this._callback = callback;\n    this._timer = this._asyncModule.run(() => {\n      this._timer = null;\n      this._callback();\n    });\n  }\n  /**\n   * Cancels an active debouncer and returns a reference to itself.\n   */\n  cancel() {\n    if (this.isActive()) {\n      this._asyncModule.cancel(this._timer);\n      this._timer = null;\n    }\n  }\n  /**\n   * Flushes an active debouncer and returns a reference to itself.\n   */\n  flush() {\n    if (this.isActive()) {\n      this.cancel();\n      this._callback();\n    }\n  }\n  /**\n   * Returns true if the debouncer is active.\n   *\n   * @return {boolean} True if active.\n   */\n  isActive() {\n    return this._timer != null;\n  }\n/**\n * Creates a debouncer if no debouncer is passed as a parameter\n * or it cancels an active debouncer otherwise. The following\n * example shows how a debouncer can be called multiple times within a\n * microtask and \"debounced\" such that the provided callback function is\n * called once. Add this method to a custom element:\n *\n * _debounceWork() {\n *   this._debounceJob = Polymer.Debouncer.debounce(this._debounceJob,\n *       Polymer.Async.microTask, () => {\n *     this._doWork();\n *   });\n * }\n *\n * If the `_debounceWork` method is called multiple times within the same\n * microtask, the `_doWork` function will be called only once at the next\n * microtask checkpoint.\n *\n * Note: In testing it is often convenient to avoid asynchrony. To accomplish\n * this with a debouncer, you can use `Polymer.enqueueDebouncer` and\n * `Polymer.flush`. For example, extend the above example by adding\n * `Polymer.enqueueDebouncer(this._debounceJob)` at the end of the\n * `_debounceWork` method. Then in a test, call `Polymer.flush` to ensure\n * the debouncer has completed.\n *\n * @param {Debouncer?} debouncer Debouncer object.\n * @param {!AsyncModule} asyncModule Object with Async interface\n * @param {function()} callback Callback to run.\n * @return {!Debouncer} Returns a debouncer object.\n */\n  static debounce(debouncer, asyncModule, callback) {\n    if (debouncer instanceof Debouncer) {\n      debouncer.cancel();\n    } else {\n      debouncer = new Debouncer();\n    }\n    debouncer.setConfig(asyncModule, callback);\n    return debouncer;\n  }\n}\n\nexport { Debouncer };\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@polymer/polymer/lib/utils/debounce.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/process/browser.js","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};export default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/createStore.js","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/isPlainObject.js","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_Symbol.js","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/utils/warning.js","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(undefined, arguments));\n    };\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/compose.js","import { reducers, store } from '@littleq/state-manager';\nimport { combineReducers } from 'redux';\n\nconst ROUTER_ACTION = {\n  PARAMS: 'ROUTER_UPDATE_PARAMS',\n  ROUTE: 'ROUTER_UPDATE_ROUTE'\n};\n\nreducers.router = (router = {}, action) => {\n  switch (action.type) {\n    case ROUTER_ACTION.PARAMS:\n      return Object.assign({}, router, {\n        params: action.params\n      });\n    case ROUTER_ACTION.ROUTE:\n      return Object.assign({}, router, {\n        route: action.route\n      });\n    default:\n      return router;\n  }\n};\n\nstore.replaceReducer(combineReducers(reducers));\n\nexport { ROUTER_ACTION };\n\n\n\n// WEBPACK FOOTER //\n// ../lib/reducer.js","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value))\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = ''\n  var isEndDelimited = false\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + prefix + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += prefix + '(' + capture + ')?'\n        } else {\n          route += '(?:' + prefix + '(' + capture + '))?'\n        }\n      } else {\n        route += prefix + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp('^' + route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/path-to-regexp/index.js","import { ReduxMixin } from '@littleq/state-manager';\nimport { LOCATION_ACTION } from './lib/reducer';\nimport resolveUrl from './lib/resolve-url';\n\nexport default (superClass) => {\n  return class extends ReduxMixin(superClass) {\n    static get properties () {\n      return {\n        // location-mixin\n        path: {\n          type: String,\n          observer: '_pathChanged',\n          statePath: 'location.path'\n        },\n\n        query: {\n          type: String,\n          observer: '_queryChanged',\n          statePath: 'location.query'\n        },\n\n        urlSpaceRegex: {\n          type: String\n        },\n\n        hash: {\n          type: String,\n          statePath: 'location.hash'\n        },\n\n        dwellTime: {\n          type: Number\n        },\n\n        _urlSpaceRegExp: {\n          type: String,\n          computed: '_makeRegExp(urlSpaceRegex)'\n        },\n\n        _lastChangedAt: {\n          type: String\n        },\n\n        _initialized: {\n          type: Boolean\n        }\n      };\n    }\n\n    constructor () {\n      super();\n      this._boundHashChanged = this._hashChanged.bind(this);\n      this._boundUrlChanged = this._urlChanged.bind(this);\n      this._boundGlobalOnClick = this._globalOnClick.bind(this);\n    }\n\n    connectedCallback () {\n      if (super.disconnectedCallback) {\n        super.connectedCallback();\n      }\n      window.addEventListener('hashchange', this._boundHashChanged);\n      window.addEventListener('location-changed', this._boundUrlChanged);\n      window.addEventListener('popstate', this._boundUrlChanged);\n      document.body.addEventListener('click', this._boundGlobalOnClick, true);\n      this._lastChangedAt = window.performance.now() - (this.dwellTime - 200);\n      this._initialized = true;\n\n      // set initialize values\n      // this.path = window.decodeURIComponent(window.location.pathname);\n      // this.query = window.location.search.slice(1);\n      // this.hash = window.decodeURIComponent(window.location.hash.slice(1));\n      this.dwellTime = 2000;\n      this._initialized = false;\n      this._urlChanged();\n    }\n\n    disconnectedCallback () {\n      if (super.disconnectedCallback) {\n        super.disconnectedCallback();\n      }\n      window.removeEventListener('hashchange', this._boundHashChanged);\n      window.removeEventListener('location-changed', this._boundUrlChanged);\n      window.removeEventListener('popstate', this._boundUrlChanged);\n      document.body.removeEventListener('click', this._boundGlobalOnClick);\n      this._initialized = false;\n    }\n\n    _pathChanged (path) {}\n\n    _queryChanged (query) {}\n\n    _hashChanged () {\n      this.dispatch({\n        type: LOCATION_ACTION.HASH,\n        path: window.decodeURIComponent(window.location.hash.substring(1))\n      });\n      // this.hash = window.decodeURIComponent(window.location.hash.substring(1));\n    }\n\n    _urlChanged () {\n      // We want to extract all info out of the updated URL before we\n      // try to write anything back into it.\n      //\n      // i.e. without _dontUpdateUrl we'd overwrite the new path with the old\n      // one when we set this.hash. Likewise for query.\n      this._dontUpdateUrl = true;\n      this._hashChanged();\n\n      this.dispatch({\n        type: LOCATION_ACTION.PATH,\n        path: window.decodeURIComponent(window.location.pathname)\n      });\n\n      this.dispatch({\n        type: LOCATION_ACTION.QUERY,\n        query: window.location.search.substring(1)\n      });\n\n      // this.path =\n      // this.query =\n      this._dontUpdateUrl = false;\n      this._updateUrl();\n    }\n\n    _getUrl () {\n      var partiallyEncodedPath = window.encodeURI(this.path).replace(/\\#/g, '%23').replace(/\\?/g, '%3F'); // eslint-disable-line no-useless-escape\n      var partiallyEncodedQuery = '';\n      if (this.query) {\n        partiallyEncodedQuery = '?' + this.query.replace(/\\#/g, '%23'); // eslint-disable-line no-useless-escape\n      }\n      var partiallyEncodedHash = '';\n      if (this.hash) {\n        partiallyEncodedHash = '#' + window.encodeURI(this.hash);\n      }\n      return (partiallyEncodedPath + partiallyEncodedQuery + partiallyEncodedHash);\n    }\n\n    _updateUrl () {\n      if (this._dontUpdateUrl || !this._initialized) {\n        return;\n      }\n\n      if (this.path === window.decodeURIComponent(window.location.pathname) &&\n          this.query === window.location.search.substring(1) &&\n          this.hash === window.decodeURIComponent(window.location.hash.substring(1))) {\n        // Nothing to do, the current URL is a representation of our properties.\n        return;\n      }\n      var newUrl = this._getUrl();\n      // Need to use a full URL in case the containing page has a base URI.\n      var fullNewUrl = resolveUrl(newUrl, window.location.protocol + '//' + window.location.host).href;\n      var now = window.performance.now();\n      var shouldReplace = this._lastChangedAt + this.dwellTime > now;\n      this._lastChangedAt = now;\n      if (shouldReplace) {\n        window.history.replaceState({}, '', fullNewUrl);\n      } else {\n        window.history.pushState({}, '', fullNewUrl);\n      }\n      window.dispatchEvent(new window.CustomEvent('location-changed'));\n    }\n\n    /**\n     * A necessary evil so that links work as expected. Does its best to\n     * bail out early if possible.\n     *\n     * @param {MouseEvent} event .\n     */\n    _globalOnClick (event) {\n      // If another event handler has stopped this event then there's nothing\n      // for us to do. This can happen e.g. when there are multiple\n      // iron-location elements in a page.\n      if (event.defaultPrevented) {\n        return;\n      }\n      var href = this._getSameOriginLinkHref(event);\n      if (!href) {\n        return;\n      }\n      event.preventDefault();\n      // If the navigation is to the current page we shouldn't add a history\n      // entry or fire a change event.\n      if (href === window.location.href) {\n        return;\n      }\n\n      window.history.pushState({}, '', href);\n      window.dispatchEvent(new window.CustomEvent('location-changed'));\n    }\n\n    /**\n     * Returns the absolute URL of the link (if any) that this click event\n     * is clicking on, if we can and should override the resulting full\n     * page navigation. Returns null otherwise.\n     *\n     * @param {MouseEvent} event .\n     * @return {string?} .\n     */\n    _getSameOriginLinkHref (event) {\n      // We only care about left-clicks.\n      if (event.button !== 0) {\n        return null;\n      }\n      // We don't want modified clicks, where the intent is to open the page\n      // in a new tab.\n      if (event.metaKey || event.ctrlKey) {\n        return null;\n      }\n      var eventPath = event.composedPath();\n      var anchor = null;\n      for (var i = 0; i < eventPath.length; i++) {\n        var element = eventPath[i];\n        if (element.tagName === 'A' && element.href) {\n          anchor = element;\n          break;\n        }\n      }\n      // If there's no link there's nothing to do.\n      if (!anchor) {\n        return null;\n      }\n      // Target blank is a new tab, don't intercept.\n      if (anchor.target === '_blank') {\n        // capture link click\n        if (anchor.href && window.ga) {\n          window.ga('send', 'event', 'Link', 'Click', anchor.href, 1);\n        }\n        return null;\n      }\n      // If the link is for an existing parent frame, don't intercept.\n      if ((anchor.target === '_top' ||\n          anchor.target === '_parent') &&\n          window.top !== window) {\n        return null;\n      }\n      var href = anchor.href;\n      // It only makes sense for us to intercept same-origin navigations.\n      // pushState/replaceState don't work with cross-origin links.\n      var url;\n      if (document.baseURI != null) {\n        url = resolveUrl(href, /** @type {string} */(document.baseURI));\n      } else {\n        url = resolveUrl(href);\n      }\n      var origin;\n      // IE Polyfill\n      if (window.location.origin) {\n        origin = window.location.origin;\n      } else {\n        origin = window.location.protocol + '//' + window.location.host;\n      }\n      var urlOrigin;\n      if (url.origin) {\n        urlOrigin = url.origin;\n      } else {\n        urlOrigin = url.protocol + '//' + url.host;\n      }\n      if (urlOrigin !== origin) {\n        return null;\n      }\n      var normalizedHref = url.pathname + url.search + url.hash;\n      // pathname should start with '/', but may not if `new URL` is not supported\n      if (normalizedHref[0] !== '/') {\n        normalizedHref = '/' + normalizedHref;\n      }\n      // If we've been configured not to handle this url... don't handle it!\n      if (this._urlSpaceRegExp &&\n          !this._urlSpaceRegExp.test(normalizedHref)) {\n        return null;\n      }\n      // Need to use a full URL in case the containing page has a base URI.\n      var fullNormalizedHref = resolveUrl(normalizedHref, window.location.href).href;\n      return fullNormalizedHref;\n    }\n\n    _makeRegExp (urlSpaceRegex) {\n      return RegExp(urlSpaceRegex);\n    }\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/location-mixin/index.js","import { ReduxMixin } from '@littleq/state-manager';\nimport { QUERYPARAMS_ACTION } from './lib/reducer';\n\nexport default (superClass) => {\n  return class extends ReduxMixin(superClass) {\n    static get properties () {\n      return {\n        // query params 'paramsString', 'paramsObject', '_dontReact'\n        paramsString: {\n          type: String,\n          observer: '_paramsStringChanged'\n        },\n\n        paramsObject: {\n          type: Object,\n          statePath: 'query.params'\n        },\n\n        _dontReact: {\n          type: Boolean\n        }\n      };\n    }\n\n    connectedCallback () {\n      if (super.connectedCallback) {\n        super.connectedCallback();\n      }\n\n      // initialize values\n      this.paramsObject = {};\n      this._dontReact = false;\n    }\n\n    _queryChanged (query) {\n      this.paramsString = query;\n    }\n\n    _paramsStringChanged () {\n      this._dontReact = true;\n      this.dispatch({\n        type: QUERYPARAMS_ACTION.UPDATE,\n        params: this._decodeParams(this.paramsString)\n      });\n\n      // this.paramsObject =\n      this._dontReact = false;\n    }\n\n    paramsObjectChanged () {\n      if (this._dontReact) {\n        return;\n      }\n      this.paramsString = this._encodeParams(this.paramsObject)\n        .replace(/%3F/g, '?').replace(/%2F/g, '/').replace(/'/g, '%27');\n    }\n\n    _encodeParams (params) {\n      var encodedParams = [];\n      for (var key in params) {\n        var value = params[key];\n        if (value === '') {\n          encodedParams.push(encodeURIComponent(key));\n        } else if (value) {\n          encodedParams.push(\n            encodeURIComponent(key) +\n            '=' +\n            encodeURIComponent(value.toString())\n          );\n        }\n      }\n      return encodedParams.join('&');\n    }\n\n    _decodeParams (paramString) {\n      var params = {};\n      // Work around a bug in decodeURIComponent where + is not\n      // converted to spaces:\n      paramString = (paramString || '').replace(/\\+/g, '%20');\n      var paramList = paramString.split('&');\n      for (var i = 0; i < paramList.length; i++) {\n        var param = paramList[i].split('=');\n        if (param[0]) {\n          params[decodeURIComponent(param[0])] =\n              decodeURIComponent(param[1] || '');\n        }\n      }\n      return params;\n    }\n  };\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/query-params-mixin/index.js","import '@polymer/polymer/polymer-element';\nimport '@littleq/lazy-loader';\nimport './middlewares/middleware-all';\nimport '../index';\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","import './lazy-load';\nimport './lazy-loader';\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/lazy-loader/index.js","import { customElements, HTMLElement } from 'global/window';\nimport { importHref } from '@polymer/polymer/lib/utils/import-href';\n\nclass LazyLoad extends HTMLElement {\n  static get is () { return 'lazy-load'; }\n\n  import () {\n    const href = this.getAttribute('href');\n    return href && typeof href === 'string' && href.trim() ? this.importHref(href) : Promise.reject(new Error('There\\'s no href attribute present in this tag'));\n  }\n\n  importHref (href) {\n    const type = this.getAttribute('type');\n    return type === 'html' ? this.importHtml(href) : this.importJs(href);\n  }\n\n  importHtml (href) {\n    const promise = new Promise((resolve, reject) => {\n      importHref(href, resolve, reject);\n    });\n    return promise;\n  }\n\n  importJs (href) {\n    const promise = new Promise((resolve, reject) => {\n      const script = /** @type {HTMLLinkElement} */ (document.createElement('script'));\n      script.src = href;\n      const cleanup = () => {\n        script.removeEventListener('load', loadListener);\n        script.removeEventListener('error', errorListener);\n      };\n      const loadListener = (event) => {\n        cleanup();\n        resolve(event);\n      };\n      const errorListener = (event) => {\n        cleanup();\n        reject(event);\n      };\n      script.addEventListener('load', loadListener);\n      script.addEventListener('error', errorListener);\n      if (script.parentNode === null) document.head.appendChild(script);\n    });\n    return promise;\n  }\n}\n\n!customElements.get(LazyLoad.is)\n  ? customElements.define(LazyLoad.is, LazyLoad)\n  : console.warn(`${LazyLoad.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/lazy-loader/lazy-load.js","import './boot.js';\n\n// run a callback when HTMLImports are ready or immediately if\n// this api is not available.\nfunction whenImportsReady(cb) {\n  if (window.HTMLImports) {\n    HTMLImports.whenReady(cb);\n  } else {\n    cb();\n  }\n}\n\nexport const importHref = function(href, onload, onerror, optAsync) {\n  let link = /** @type {HTMLLinkElement} */\n    (document.head.querySelector('link[href=\"' + href + '\"][import-href]'));\n  if (!link) {\n    link = /** @type {HTMLLinkElement} */ (document.createElement('link'));\n    link.rel = 'import';\n    link.href = href;\n    link.setAttribute('import-href', '');\n  }\n  // always ensure link has `async` attribute if user specified one,\n  // even if it was previously not async. This is considered less confusing.\n  if (optAsync) {\n    link.setAttribute('async', '');\n  }\n  // NOTE: the link may now be in 3 states: (1) pending insertion,\n  // (2) inflight, (3) already laoded. In each case, we need to add\n  // event listeners to process callbacks.\n  let cleanup = function() {\n    link.removeEventListener('load', loadListener);\n    link.removeEventListener('error', errorListener);\n  };\n  let loadListener = function(event) {\n    cleanup();\n    // In case of a successful load, cache the load event on the link so\n    // that it can be used to short-circuit this method in the future when\n    // it is called with the same href param.\n    link.__dynamicImportLoaded = true;\n    if (onload) {\n      whenImportsReady(() => {\n        onload(event);\n      });\n    }\n  };\n  let errorListener = function(event) {\n    cleanup();\n    // In case of an error, remove the link from the document so that it\n    // will be automatically created again the next time `importHref` is\n    // called.\n    if (link.parentNode) {\n      link.parentNode.removeChild(link);\n    }\n    if (onerror) {\n      whenImportsReady(() => {\n        onerror(event);\n      });\n    }\n  };\n  link.addEventListener('load', loadListener);\n  link.addEventListener('error', errorListener);\n  if (link.parentNode == null) {\n    document.head.appendChild(link);\n  // if the link already loaded, dispatch a fake load event\n  // so that listeners are called and get a proper event argument.\n  } else if (link.__dynamicImportLoaded) {\n    link.dispatchEvent(new Event('load'));\n  }\n  return link;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@polymer/polymer/lib/utils/import-href.js","import { customElements, HTMLElement } from 'global/window';\n\nclass LazyLoader extends HTMLElement {\n  static get is () { return 'lazy-loader'; }\n\n  import (name) {\n    const el = this.querySelector(`[module=\"${name}\"]`);\n    return el &&\n      el.tagName.toLowerCase() === 'lazy-load' &&\n      typeof el.import === 'function'\n      ? el.import()\n      : Promise.reject(new Error('No element to be lazy loaded'));\n  }\n}\n\n!customElements.get(LazyLoader.is)\n  ? customElements.define(LazyLoader.is, LazyLoader)\n  : console.warn(`${LazyLoader.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/lazy-loader/lazy-loader.js","import './littleq-router';\nimport './littleq-route';\n\n\n\n// WEBPACK FOOTER //\n// ../index.js","import { Element } from '@polymer/polymer/polymer-element';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce';\nimport { timeOut } from '@polymer/polymer/lib/utils/async';\nimport { ReduxMixin } from '@littleq/state-manager';\nimport { customElements, HTMLElement, HTMLUnknownElement } from 'global/window';\nimport { ROUTER_ACTION } from './lib/reducer';\nimport getAnimationEvent from './lib/get-animation-event';\nimport pathToRegexp from 'path-to-regexp';\nimport LocationMixin from '@littleq/location-mixin';\nimport QueryParamsMixin from '@littleq/query-params-mixin';\n\nclass LittleqRouter extends ReduxMixin(QueryParamsMixin(LocationMixin(Element))) {\n  static get is () { return 'littleq-router'; }\n\n  static get template () {\n    return `\n    <style>\n      ::slotted(.animated) {\n        animation-duration: 0.3s;\n        animation-fill-mode: both;\n      }\n\n      ::slotted(*) > .animated {\n        animation-duration: 1s;\n        animation-fill-mode: both;\n      }\n\n      ::slotted(.fadeOut) {\n        animation-name: fadeOut;\n      }\n\n      ::slotted(*) > .fadeOut {\n        animation-name: fadeOut;\n      }\n\n      ::slotted(.fadeIn) {\n        animation-name: fadeIn;\n      }\n\n      ::slotted(*) > .fadeIn {\n        animation-name: fadeIn;\n      }\n    </style>\n    <main role=\"main\">\n      <slot name=\"page\"></slot>\n    </main>\n    `;\n  }\n\n  static get properties () {\n    return {\n      defaultRedirect: {\n        type: String\n      },\n\n      params: {\n        type: Object,\n        statePath: 'router.params'\n      },\n\n      currentRoute: {\n        type: String,\n        statePath: 'router.route'\n      }\n    };\n  }\n\n  constructor () {\n    super();\n    this._setKeyframeStyles();\n    this._getLazyLoader();\n  }\n\n  static get observers () {\n    return [\n      '_checkPathRouteIfExists(path, currentRoute)'\n    ];\n  }\n\n  _setKeyframeStyles () {\n    const style = document.createElement('style');\n    style.id = 'littlq-router-animation-styles';\n    style.innerHTML = `\n      @keyframes fadeOut {\n        from {\n          opacity: 1;\n        }\n\n        to {\n          opacity: 0;\n        }\n      }\n\n      @keyframes fadeIn {\n        from {\n          opacity: 0;\n        }\n\n        to {\n          opacity: 1;\n        }\n      }\n    `;\n    if (!document.querySelector('#littlq-router-animation-styles')) document.head.appendChild(style);\n  }\n\n  _getLazyLoader () {\n    const lazy = this.getAttribute('lazy-loader') || 'lazy-loader';\n    this._lazyLoader = document.querySelector(lazy);\n    if (!this._lazyLoader) console.warn('will not be able to lazy load components without the lazy-loader tag. Install lazy-loader tag');\n  }\n\n  /**\n   * Check path and route if it matches. Because the matching happens in the routes\n   * themselves, it will wait for 200 milliseconds before showing the default, which\n   * is the not-found route.\n   *\n   * @param {any} path\n   * @param {any} route\n   * @memberof LittleqRouter\n   */\n  _checkPathRouteIfExists (path, route) {\n    this._debouncer = Debouncer.debounce(\n      this._debouncer,\n      timeOut.after(200),\n      () => {\n        const keys = [];\n        const re = pathToRegexp(route || '', keys);\n        const exec = re.exec(path);\n        if (!exec) {\n          this.dispatch({\n            type: ROUTER_ACTION.ROUTE,\n            route: 'not-found'\n          });\n        }\n      }\n    );\n  }\n\n  _removePageAfterTransition (oldPage, route, transition, fn) {\n    if (this._timeOut) {\n      clearTimeout(this._timeOut);\n    }\n\n    if (transition && fn) {\n      oldPage.removeEventListener(transition, fn);\n    }\n\n    if (this.contains(oldPage)) {\n      this.removeChild(oldPage);\n    }\n\n    this._checkMiddlewares(route);\n  }\n\n  _removePageListenerFallback (oldPage, route, transition) {\n    this._timeOut = setTimeout(() => {\n      this._removePageAfterTransition(oldPage, route, transition);\n    }, 550);\n    const fn = () => {\n      this._removePageAfterTransition(oldPage, route, transition, fn);\n    };\n    oldPage.addEventListener(transition, fn);\n  }\n\n  _removePage (oldPage, route) {\n    const animation = getAnimationEvent(oldPage);\n    oldPage.classList.remove('fadeIn');\n    !animation ? this._removePageAfterTransition(oldPage, route) : this._removePageListenerFallback(oldPage, route, animation);\n    oldPage.classList.add('animated');\n    oldPage.classList.add('fadeOut');\n  }\n\n  _getMiddlewares (parent, middlewares = []) {\n    for (let i = 0; i < parent.children.length; i++) {\n      let child = parent.children[i];\n      this._addMiddleware(!customElements.get(child.tagName.toLowerCase()) ? this._lazyLoadMiddleware(child) : this._getMiddleware(child), middlewares);\n    }\n    return parent.tagName.toLowerCase() === 'littleq-router' || !parent.parentNode ? middlewares : this._getMiddlewares(parent.parentNode, middlewares);\n  }\n\n  _addMiddleware (middleware, middlewares) {\n    if (middleware !== undefined) {\n      middleware instanceof Promise ? middlewares.push(middleware) : middlewares.push(Promise.resolve(middleware));\n    }\n  }\n\n  _getMiddleware (middleware) {\n    if (typeof middleware.middleware === 'function' && middleware.tagName.toLowerCase() !== 'littleq-route') return middleware.middleware();\n  }\n\n  _lazyLoadMiddleware (middleware) {\n    return this._lazyLoader.import(middleware.tagName.toLowerCase())\n      .then(() => {\n        return this._getMiddleware(middleware);\n      })\n      .catch(e => {\n        if (this.currentRoute !== 'not-found') {\n          this.dispatch({\n            type: ROUTER_ACTION.ROUTE,\n            route: 'not-found'\n          });\n        }\n      });\n  }\n\n  _processMiddlewares (page, redirect, middlewares) {\n    middlewares.reduce((middleware, prev) => (prev && middleware && typeof middleware === 'boolean')) ? this._loadPage(page) : this._loadRedirect(redirect);\n  }\n\n  _loadRedirect (redirect) {\n    redirect ? this._loadPage(redirect) : this._loadDefaultRedirect();\n  }\n\n  _loadDefaultRedirect () {\n    const redirect = this.defaultRedirect ? document.createElement(this.defaultRedirect) : null;\n    redirect\n      ? this._loadPage(redirect)\n      : this.dispatch({\n        type: ROUTER_ACTION.ROUTE,\n        route: 'not-found'\n      });\n  }\n\n  _checkMiddlewares (route) {\n    if (this.querySelector('[slot=\"page\"]')) this.removeChild(this.querySelector('[slot=\"page\"]'));\n    const middlewares = this._getMiddlewares(route);\n    const page = document.createElement(route.page);\n    const redirect = route.redirect ? document.createElement(route.redirect) : null;\n    middlewares.length ? Promise.all(middlewares).then(this._processMiddlewares.bind(this, page, redirect)) : this._loadPage(page);\n  }\n\n  _loadPage (page) {\n    !customElements.get(page.tagName.toLowerCase()) ? this._lazyLoadPage(page) : this._showPage(page);\n  }\n\n  _lazyLoadPage (page) {\n    this._lazyLoader.import(page.tagName.toLowerCase())\n      .then(() => {\n        this._showPage(page);\n      })\n      .catch(e => {\n        if (this.currentRoute !== 'not-found') {\n          this.dispatch({\n            type: ROUTER_ACTION.ROUTE,\n            route: 'not-found'\n          });\n        }\n      });\n  }\n\n  _showPage (page) {\n    page.setAttribute('slot', 'page');\n    page.classList.add('animated');\n    page.classList.add('fadeIn');\n    this.appendChild(page);\n  }\n}\n\n!customElements.get(LittleqRouter.is)\n  ? customElements.define(LittleqRouter.is, LittleqRouter)\n  : console.warn(`${LittleqRouter.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ../littleq-router.js","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_baseGetTag.js","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_root.js","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_freeGlobal.js","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_getRawTag.js","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_objectToString.js","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_getPrototype.js","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/_overArg.js","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/lodash-es/isObjectLike.js","module.exports = require('./lib/index');\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/symbol-observable/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _ponyfill = require('./ponyfill');\n\nvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar root; /* global window */\n\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = (0, _ponyfill2['default'])(root);\nexports['default'] = result;\n\n\n// WEBPACK FOOTER //\n// ../node_modules/symbol-observable/lib/index.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/module.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports['default'] = symbolObservablePonyfill;\nfunction symbolObservablePonyfill(root) {\n\tvar result;\n\tvar _Symbol = root.Symbol;\n\n\tif (typeof _Symbol === 'function') {\n\t\tif (_Symbol.observable) {\n\t\t\tresult = _Symbol.observable;\n\t\t} else {\n\t\t\tresult = _Symbol('observable');\n\t\t\t_Symbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n\n\n// WEBPACK FOOTER //\n// ../node_modules/symbol-observable/lib/ponyfill.js","import { ActionTypes } from './createStore';\nimport isPlainObject from 'lodash-es/isPlainObject';\nimport warning from './utils/warning';\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state. ' + 'If you want this reducer to hold no value, you can return null instead of undefined.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined. If you don\\'t want to set a value for this reducer, ' + 'you can use null instead of undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined, but can be null.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nexport default function combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning('No reducer provided for key \"' + key + '\"');\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var unexpectedKeyCache = void 0;\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError = void 0;\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var action = arguments[1];\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/combineReducers.js","function bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nexport default function bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/bindActionCreators.js","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport compose from './compose';\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nexport default function applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, preloadedState, enhancer) {\n      var store = createStore(reducer, preloadedState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/redux/es/applyMiddleware.js","import { get } from '@polymer/polymer/lib/utils/path';\n\n/**\n * Polymer Redux\n *\n * Creates a Class mixin for decorating Elements with a given Redux store.\n *\n * @polymerMixin\n *\n * @param {Object} store Redux store.\n * @return {Function} Class mixin.\n */\nexport default function PolymerRedux (store) {\n  if (!store) {\n    throw new TypeError('PolymerRedux: expecting a redux store.');\n  } else if (!['getState', 'dispatch', 'subscribe'].every(k => typeof store[k] === 'function')) {\n    throw new TypeError('PolymerRedux: invalid store object.');\n  }\n\n  const subscribers = new Map();\n\n  /**\n   * Binds element's properties to state changes from the Redux store.\n   *\n   * @example\n   *     const update = bind(el, props) // set bindings\n   *     update(state) // manual update\n   *\n   * @private\n   * @param {HTMLElement} element\n   * @param {Object} properties\n   * @return {Function} Update function.\n   */\n  const bind = (element, properties) => {\n    const bindings = Object.keys(properties)\n      .filter(name => {\n        const property = properties[name];\n        if (Object.prototype.hasOwnProperty.call(property, 'statePath')) {\n          if (!property.readOnly && property.notify) {\n            console.warn(`PolymerRedux: <${element.constructor.is}>.${name} has \"notify\" enabled, two-way bindings goes against Redux's paradigm`);\n          }\n          return true;\n        }\n        return false;\n      });\n\n    /**\n     * Updates an element's properties with the given state.\n     *\n     * @private\n     * @param {Object} state\n     */\n    const update = state => {\n      let propertiesChanged = false;\n      bindings.forEach(name => { // Perhaps .reduce() to a boolean?\n        const {statePath} = properties[name];\n        const value = (typeof statePath === 'function')\n          ? statePath.call(element, state)\n          : get(state, statePath);\n\n        const changed = element._setPendingPropertyOrPath(name, value, true);\n        propertiesChanged = propertiesChanged || changed;\n      });\n      if (propertiesChanged) {\n        element._invalidateProperties();\n      }\n    };\n\n    // Redux listener\n    const unsubscribe = store.subscribe(() => {\n      const detail = store.getState();\n      update(detail);\n\n      element.dispatchEvent(new window.CustomEvent('state-changed', {detail}));\n    });\n\n    subscribers.set(element, unsubscribe);\n\n    return update(store.getState());\n  };\n\n  /**\n   * Unbinds an element from state changes in the Redux store.\n   *\n   * @private\n   * @param {HTMLElement} element\n   */\n  const unbind = element => {\n    const off = subscribers.get(element);\n    if (typeof off === 'function') {\n      off();\n    }\n  };\n\n  /**\n   * Merges a property's object value using the defaults way.\n   *\n   * @private\n   * @param {Object} what Initial prototype\n   * @param {String} which Property to collect.\n   * @return {Object} the collected values\n   */\n  const collect = (what, which) => {\n    let res = {};\n    while (what) {\n      res = Object.assign({}, what[which], res); // Respect prototype priority\n      what = Object.getPrototypeOf(what);\n    }\n    return res;\n  };\n\n  /**\n   * ReduxMixin\n   *\n   * @example\n   *     const ReduxMixin = PolymerRedux(store)\n   *     class Foo extends ReduxMixin(Polymer.Element) { }\n   *\n   * @polymerMixinClass\n   *\n   * @param {Polymer.Element} parent The polymer parent element.\n   * @return {Function} PolymerRedux mixed class.\n   */\n  return parent => class ReduxMixin extends parent {\n    constructor () {\n      super();\n\n      // Collect the action creators first as property changes trigger\n      // dispatches from observers, see #65, #66, #67\n      const actions = collect(this.constructor, 'actions');\n      Object.defineProperty(this, '_reduxActions', {\n        configurable: true,\n        value: actions\n      });\n    }\n\n    connectedCallback () {\n      super.connectedCallback();\n      const properties = collect(this.constructor, 'properties');\n      bind(this, properties);\n    }\n\n    disconnectedCallback () {\n      super.disconnectedCallback();\n      unbind(this);\n    }\n\n    /**\n     * Dispatches an action to the Redux store.\n     *\n     * @example\n     *     element.dispatch({ type: 'ACTION' })\n     *\n     * @example\n     *     element.dispatch('actionCreator', 'foo', 'bar')\n     *\n     * @example\n     *     element.dispatch((dispatch) => {\n     *         dispatch({ type: 'MIDDLEWARE'})\n     *     })\n     *\n     * @param  {...*} args\n     * @return {Object} The action.\n     */\n    dispatch (...args) {\n      const actions = this._reduxActions;\n\n      // Action creator\n      let [action] = args;\n      if (typeof action === 'string') {\n        if (typeof actions[action] !== 'function') {\n          throw new TypeError(`PolymerRedux: <${this.constructor.is}> invalid action creator \"${action}\"`);\n        }\n        action = actions[action](...args.slice(1));\n      }\n\n      // Proxy async dispatch\n      if (typeof action === 'function') {\n        const originalAction = action;\n        action = (...args) => {\n          // Replace redux dispatch\n          args.splice(0, 1, (...args) => {\n            return this.dispatch(...args);\n          });\n          return originalAction(...args);\n        };\n\n        // Copy props from the original action to the proxy.\n        // see https://github.com/tur-nr/polymer-redux/issues/98\n        Object.keys(originalAction).forEach(prop => {\n          action[prop] = originalAction[prop];\n        });\n      }\n\n      return store.dispatch(action);\n    }\n\n    /**\n     * Gets the current state in the Redux store.\n     *\n     * @return {*}\n     */\n    getState () {\n      return store.getState();\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/state-manager/mixins/polymer-redux.js","/* From Modernizr */\nexport default (el) => {\n  const animations = {\n    'animation': 'animationend',\n    'OAnimation': 'oAnimationEnd',\n    'MozAnimation': 'animationend',\n    'WebkitAnimation': 'webkitAnimationEnd'\n  };\n\n  for (var t in animations) {\n    if (el.style[t] !== undefined) {\n      return animations[t];\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ../lib/get-animation-event.js","import { reducers, store } from '@littleq/state-manager';\nimport { combineReducers } from 'redux';\n\nconst LOCATION_ACTION = {\n  PATH: 'LOCATION_UPDATE_PATH',\n  QUERY: 'LOCATION_UPDATE_QUERY',\n  HASH: 'LOCATION_UPDATE_HASH'\n};\n\nreducers.location = (location = {}, action) => {\n  switch (action.type) {\n    case LOCATION_ACTION.PATH:\n      return Object.assign({}, location, {\n        path: action.path\n      });\n    case LOCATION_ACTION.QUERY:\n      return Object.assign({}, location, {\n        query: action.query\n      });\n    case LOCATION_ACTION.HASH:\n      return Object.assign({}, location, {\n        hash: action.query\n      });\n    default:\n      return location;\n  }\n};\n\nstore.replaceReducer(combineReducers(reducers));\n\nexport { LOCATION_ACTION };\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/location-mixin/lib/reducer.js","import { URL } from 'global/window';\nvar workingURL;\nvar urlDoc, urlBase, anchor;\n\n/**\n * @param {string} path\n * @param {string=} base\n * @return {!URL|!HTMLAnchorElement}\n */\nexport default (path, base) => {\n  if (workingURL === undefined) {\n    workingURL = false;\n    try {\n      var u = new URL('b', 'http://a');\n      u.pathname = 'c%20d';\n      workingURL = (u.href === 'http://a/c%20d');\n      workingURL = workingURL && (new URL('http://www.google.com/?foo bar').href === 'http://www.google.com/?foo%20bar');\n    } catch (e) {}\n  }\n  if (workingURL) {\n    return new URL(path, base);\n  }\n  if (!urlDoc) {\n    urlDoc = document.implementation.createHTMLDocument('url');\n    urlBase = urlDoc.createElement('base');\n    urlDoc.head.appendChild(urlBase);\n    anchor = /** @type {HTMLAnchorElement} */(urlDoc.createElement('a'));\n  }\n  urlBase.href = base;\n  anchor.href = path.replace(/ /g, '%20');\n  return anchor;\n};\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/location-mixin/lib/resolve-url.js","import { reducers, store, ReduxMixin } from '@littleq/state-manager';\nimport { combineReducers } from 'redux';\n\nconst QUERYPARAMS_ACTION = {\n  UPDATE: 'QUERYPARAMS_UPDATE'\n};\n\nreducers.query = (query = {}, action) => {\n  switch (action.type) {\n    case QUERYPARAMS_ACTION.UPDATE:\n      return Object.assign({}, query, {\n        params: action.params\n      });\n    default:\n      return query;\n  }\n};\n\nstore.replaceReducer(combineReducers(reducers));\n\nexport { QUERYPARAMS_ACTION };\n\n\n// WEBPACK FOOTER //\n// ../node_modules/@littleq/query-params-mixin/lib/reducer.js","import { Element } from '@polymer/polymer/polymer-element';\nimport { ReduxMixin } from '@littleq/state-manager';\nimport LocationMixin from '@littleq/location-mixin';\nimport QueryParamsMixin from '@littleq/query-params-mixin';\nimport pathToRegexp from 'path-to-regexp';\nimport { customElements } from 'global/window';\nimport { ROUTER_ACTION } from './lib/reducer';\nimport getRoutes from './lib/get-routes';\n\nclass LittleqRoute extends ReduxMixin(QueryParamsMixin(LocationMixin(Element))) {\n  static get is () { return 'littleq-route'; }\n\n  static get properties () {\n    return {\n      page: {\n        type: String\n      },\n\n      redirect: {\n        type: String\n      },\n\n      route: {\n        type: String,\n        value: 'not-found'\n      },\n\n      params: {\n        type: Object,\n        statePath: 'router.params'\n      },\n\n      currentRoute: {\n        type: String,\n        observer: '_checkRoute',\n        statePath: 'router.route'\n      }\n    };\n  }\n\n  _processPage () {\n    let router = this;\n    do {\n      router = router.parentNode;\n    } while (router.tagName.toLowerCase() !== 'littleq-router');\n    const page = router.querySelector('[slot=\"page\"]');\n    page ? router._removePage(page, this) : router._checkMiddlewares(this);\n  }\n\n  _checkRoute (route) {\n    if (route === getRoutes(this)) this._processPage();\n  }\n\n  _routeMatches (route, exec, keys) {\n    const params = {};\n    keys.forEach((key, index) => {\n      const { name } = key;\n      params[name] = exec[index + 1] || null;\n    });\n\n    this.dispatch({\n      type: ROUTER_ACTION.PARAMS,\n      params\n    });\n\n    this.dispatch({\n      type: ROUTER_ACTION.ROUTE,\n      route\n    });\n  }\n\n  _checkIfRouteMatches (path) {\n    const route = getRoutes(this);\n    const keys = [];\n    const re = pathToRegexp(route, keys);\n    const exec = re.exec(path);\n    if (exec) this._routeMatches(route, exec, keys);\n  }\n\n  _pathChanged (path) {\n    path = path.replace(/index\\.html$/, '');\n    if (this.route) this._checkIfRouteMatches(path);\n  }\n}\n\n!customElements.get(LittleqRoute.is)\n  ? customElements.define(LittleqRoute.is, LittleqRoute)\n  : console.warn(`${LittleqRoute.is} is already defined`);\n\n\n\n// WEBPACK FOOTER //\n// ../littleq-route.js","const getRoutes = (el, route = '') => {\n  route = el.route + route;\n  return el.parentNode && el.parentNode.tagName.toLowerCase() === 'littleq-route' ? getRoutes(el.parentNode, route) : route;\n};\n\nexport default getRoutes;\n\n\n\n// WEBPACK FOOTER //\n// ../lib/get-routes.js"],"sourceRoot":""}